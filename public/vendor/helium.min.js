!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(e.Helium=e.Helium||{})}(this,function(e){"use strict";function t(e){var t=e?[e]:e;return nt(e)?e:t}function n(e){return void 0===e}function r(e){return null===e}function o(e){var t=void 0===e?"undefined":ze(e);return"string"===t||"number"===t}function i(e){return!0===e}function l(e){return"function"==typeof e}function a(e){return"string"==typeof e}function s(e){return"number"==typeof e}function u(e){return n(e)||r(e)}function d(e){return r(e)||!1===e||i(e)||n(e)}function f(e){return"object"===(void 0===e?"undefined":ze(e))}function p(e){return!n(e.prototype)&&!n(e.prototype.render)}function c(e){throw e||(e=et),new Error("Helium Error: "+e)}function h(e){console.warn(e)}function v(e,t){var n={};if(e)for(var r in e)n[r]=e[r];if(t)for(var o in t)n[o]=t[o];return n}function m(){this.listeners=[]}function y(e,t,n,r,o){var i=e.type,l=e.ref;e.dom=t;var a=e.props||ht;if(o){var s=ae(e,i,a,r,n),u=s._lastInput;s._vNode=e,k(u,t,n,s._childContext),Z(e,l,s,n),s._updating=!1,ot.findDOMNodeEnabled&&st.set(s,t)}else{var d=de(e,i,a,r);k(d,t,n,r),e.children=d,e.dom=d.dom,ee(l,t,n)}return t}function g(e,t,n,r){var o=e.children,i=e.props,l=e.ref;if(e.dom=t,o&&C(o,t,n,r),i)for(var a in i)G(a,null,i[a],t);return l&&te(t,l,n),t}function C(e,t,n,o){var i=t.firstChild;if(nt(e))for(var l=0,a=e.length;l<a;l++){var s=e[l];!r(s)&&f(s)&&(r(i)?z(s,t,n,o):i=k(s,i,n,o).nextSibling)}else f(e)&&(k(e,i,n,o),i=i.nextSibling);for(;i;){var u=i.nextSibling;t.removeChild(i),i=u}}function b(e,t){return e.dom=t,t}function k(e,t,n,r){var o=e.flags;return o&rt.Component?y(e,t,n,r,(o&rt.ComponentClass)>0):o&rt.Element?g(e,t,n,r):o&rt.Void?b(e,t):void c()}function S(e,t,n){if(!r(t)){var o=t.firstChild;if(!r(o)){for(k(e,o,n,ht,!1),o=(o=t.firstChild).nextSibling;o;)t.removeChild(o),o=o.nextSibling;return!0}}return!1}function _(e,t,r){var o=e.type,i=at.get(o);if(!n(i)){var l=e.key,a=null===l?i.nonKeyed:i.keyed.get(l);if(!n(a)){var s=a.pop();if(!n(s))return W(s,e,null,t,r,!0),e.dom}}return null}function P(e){var t=e.type,o=e.key,i=at.get(t);if(n(i)&&(i={keyed:new Map,nonKeyed:[]},at.set(t,i)),r(o))i.nonKeyed.push(e);else{var l=i.keyed.get(o);n(l)&&(l=[],i.keyed.set(o,l)),l.push(e)}}function w(e,t,r){var o=e.type,i=lt.get(o);if(!n(i)){var l=e.key,a=null===l?i.nonKeyed:i.keyed.get(l);if(!n(a)){var s=a.pop();if(!n(s)&&!K(s,e,null,t,r,e.flags&rt.ComponentClass,!0))return e.dom}}return null}function O(e){var t=e.ref;if(!(t&&(t.onComponentWillMount||t.onComponentWillUnmount||t.onComponentDidMount||t.onComponentWillUpdate||t.onComponentDidUpdate))){var o=e.type,i=e.key,l=lt.get(o);if(n(l)&&(l={keyed:new Map,nonKeyed:[]},lt.set(o,l)),r(i))l.nonKeyed.push(e);else{var a=l.keyed.get(i);n(a)&&(a=[],l.keyed.set(i,a)),a.push(e)}}}function M(e,t,n,r,o){var i=e.flags;i&rt.Component?E(e,t,n,r,o):i&rt.Element?D(e,t,n,r,o):i&(rt.Text|rt.Void)&&N(e,t)}function N(e,t){r(t)||me(t,e.dom)}function E(e,t,o,i,l){var a=e.children,s=e.flags&rt.ComponentClass,d=e.ref,f=e.dom;if(l||(s?a._unmounted||(a._blockSetState=!0,r(ot.beforeUnmount)||ot.beforeUnmount(e),n(a.componentWillUnmount)||a.componentWillUnmount(),d&&!l&&d(null),a._unmounted=!0,ot.findDOMNodeEnabled&&st.delete(a),M(a._lastInput,null,a._lifecycle,!1,l)):(u(d)||u(d.onComponentWillUnmount)||d.onComponentWillUnmount(f),M(a,null,o,!1,l))),t){var p=a._lastInput;u(p)&&(p=a),me(t,f)}ot.recyclingEnabled&&!s&&(t||i)&&O(e)}function D(e,t,n,o,i){var l=e.dom,a=e.ref;a&&!i&&I(a);var s=e.children;u(s)||x(s,n,i),r(t)||me(t,l),ot.recyclingEnabled&&(t||o)&&P(e)}function x(e,t,n){if(nt(e))for(var r=0,o=e.length;r<o;r++){var i=e[r];!d(i)&&f(i)&&M(i,null,t,!1,n)}else f(e)&&M(e,null,t,!1,n)}function I(e){if(l(e))e(null);else{if(d(e))return;c()}}function U(e){for(var t=0,n=ut.length;t<n;t++){var r=ut[t];if(r.dom===e)return r}return null}function A(e,t,n){var r={dom:e,input:t,lifecycle:n};return ut.push(r),r}function R(e){for(var t=0,n=ut.length;t<n;t++)if(ut[t]===e)return void ut.splice(t,1)}function j(e,t){if(dt===t&&c(),e!==Ze){var n=U(t);if(r(n)){var o=new m;d(e)||(e.dom&&(e=Ie(e)),S(e,t,o)||z(e,t,o,ht,!1),n=A(t,e,o),o.trigger())}else{var i=n.lifecycle;i.listeners=[],u(e)?(M(n.input,t,i,!1,!1),R(n)):(e.dom&&(e=Ie(e)),T(n.input,e,t,i,ht,!1,!1)),n.input=e,i.trigger()}if(n){var l=n.input;if(l&&l.flags&rt.Component)return l.children}}}function T(e,t,n,r,o,i){if(e!==t){var l=e.flags,a=t.flags;a&rt.Component?l&rt.Component?K(e,t,n,r,o,a&rt.ComponentClass,i):ue(n,Q(t,null,r,o,(a&rt.ComponentClass)>0),e,r,i):a&rt.Element?l&rt.Element?W(e,t,n,r,o,i):ue(n,q(t,null,r,o),e,r,i):a&rt.Void?l&rt.Void?B(e,t):ue(n,Y(t,null),e,r,i):se(e,t,n,r,o,i)}}function V(e,t,n,r){xe(e)?M(e,t,n,!0,r):nt(e)&&ye(t,e,n,r)}function W(e,t,n,r,o,i){var l=t.type;if(e.type!==l)he(e,t,n,r,o,i);else{var a=e.dom,s=e.props,d=t.props,f=e.children,p=t.children,c=e.flags,h=t.flags,v=t.ref;if(t.dom=a,f!==p&&H(c,h,f,p,a,r,o,i),s!==d){var m=s||ht,y=d||ht;if(y!==ht)for(var g in y){var C=y[g];G(g,m[g],C,a)}if(m!==ht)for(var b in m)u(y[b])&&$(b,m[b],a)}v&&(e.ref!==v||i)&&te(a,v,r)}}function H(e,t,n,r,o,i,l,a){var s=!1,u=!1;t&rt.HasNonKeyedChildren?s=!0:(e&rt.HasKeyedChildren)>0&&(t&rt.HasKeyedChildren)>0?(u=!0,s=!0):d(r)?V(n,o,i,a):d(n)?nt(r)?J(r,o,i,l):z(r,o,i,l):nt(r)?nt(n)?(s=!0,Ce(n,r)&&(u=!0)):(V(n,o,i,a),J(r,o,i,l)):nt(n)?(ye(o,n,i,a),z(r,o,i,l)):xe(r)&&(xe(n)?T(n,r,o,i,l,a):(V(n,o,i,a),z(r,o,i,l))),s&&(u?L(n,r,o,i,l,a):F(n,r,o,i,l,a))}function K(e,t,o,i,l,a,s){var p=e.type,h=t.type,m=e.key,y=t.key;if(p!==h||m!==y)return he(e,t,o,i,l,s),!1;var g=t.props||ht;if(a){var C=e.children;if(C._updating=!0,C._unmounted){if(r(o))return!0;ve(o,Q(t,null,i,l,(t.flags&rt.ComponentClass)>0),e.dom)}else{var b=!n(C.componentDidUpdate),k=C.state,S=b?v(k,null):k,_=C.props,P=void 0;n(C.getChildContext)||(P=C.getChildContext()),t.children=C,P=u(P)?l:v(l,P);var w=C._lastInput,O=C._updateComponent(S,k,_,g,l,!1,!1),M=!0;C._childContext=P,d(O)?O=De():O===Ze?(O=w,M=!1):nt(O)?c():f(O)&&(r(O.dom)||(O=Ie(O))),O.flags&rt.Component?O.parentVNode=t:w.flags&rt.Component&&(w.parentVNode=t),C._lastInput=O,C._vNode=t,M&&(T(w,O,o,i,P,s),b&&C.componentDidUpdate(_,S),r(ot.afterUpdate)||ot.afterUpdate(t),ot.findDOMNodeEnabled&&st.set(C,O.dom)),t.dom=O.dom}C._updating=!1}else{var N=!0,E=e.props,D=t.ref,x=!u(D),I=e.children,U=I;t.dom=e.dom,t.children=I,m!==y?N=!0:x&&!u(D.onComponentShouldUpdate)&&(N=D.onComponentShouldUpdate(E,g)),!1!==N&&(x&&!u(D.onComponentWillUpdate)&&D.onComponentWillUpdate(E,g),d(U=h(g,l))?U=De():nt(U)?c():f(U)&&(r(U.dom)||(U=Ie(U))),U!==Ze&&(T(I,U,o,i,l,s),t.children=U,x&&!u(D.onComponentDidUpdate)&&D.onComponentDidUpdate(E,g),t.dom=U.dom)),U.flags&rt.Component?U.parentVNode=t:I.flags&rt.Component&&(I.parentVNode=t)}return!1}function B(e,t){t.dom=e.dom}function F(e,t,n,r,o,i){for(var l=e.length,a=t.length,s=l>a?a:l,u=0;u<s;u++){var d=t[u];d.dom&&(d=t[u]=Ie(d)),T(e[u],d,n,r,o,i)}if(l<a)for(u=s;u<a;u++){var f=t[u];f.dom&&(f=t[u]=Ie(f)),fe(n,z(f,null,r,o))}else if(0===a)ye(n,e,r,i);else if(l>a)for(u=s;u<l;u++)M(e[u],n,r,!1,i)}function L(e,t,o,i,l,a){var s=e.length,u=t.length,d=s-1,f=u-1,p=0,c=0,h=void 0,v=void 0,m=void 0,y=void 0,g=void 0,C=void 0,b=void 0;if(0!==s)if(0!==u){var k=e[p],S=t[c],_=e[d],P=t[f];S.dom&&(t[c]=S=Ie(S)),P.dom&&(t[f]=P=Ie(P));e:for(;;){for(;k.key===S.key;){if(T(k,S,o,i,l,a),p++,c++,p>d||c>f)break e;k=e[p],(S=t[c]).dom&&(t[c]=S=Ie(S))}for(;_.key===P.key;){if(T(_,P,o,i,l,a),d--,f--,p>d||c>f)break e;_=e[d],(P=t[f]).dom&&(t[f]=P=Ie(P))}if(_.key!==S.key){if(k.key!==P.key)break;T(k,P,o,i,l,a),g=(C=f+1)<t.length?t[C].dom:null,pe(o,P.dom,g),f--,k=e[++p],(P=t[f]).dom&&(t[f]=P=Ie(P))}else T(_,S,o,i,l,a),pe(o,S.dom,k.dom),c++,_=e[--d],(S=t[c]).dom&&(t[c]=S=Ie(S))}if(p>d){if(c<=f)for(g=(C=f+1)<t.length?t[C].dom:null;c<=f;)(b=t[c]).dom&&(t[c]=b=Ie(b)),c++,pe(o,z(b,null,i,l),g)}else if(c>f)for(;p<=d;)M(e[p++],o,i,!1,a);else{s=d-p+1,u=f-c+1;var w=new Array(u);for(h=0;h<u;h++)w[h]=-1;var O=!1,N=0,E=0;if(u<=4||s*u<=16){for(h=p;h<=d;h++)if(m=e[h],E<u)for(v=c;v<=f;v++)if(y=t[v],m.key===y.key){w[v-c]=h,N>v?O=!0:N=v,y.dom&&(t[v]=y=Ie(y)),T(m,y,o,i,l,a),E++,e[h]=null;break}}else{var D=new Map;for(h=c;h<=f;h++)D.set(t[h].key,h);for(h=p;h<=d;h++)m=e[h],E<u&&(n(v=D.get(m.key))||(y=t[v],w[v-c]=h,N>v?O=!0:N=v,y.dom&&(t[v]=y=Ie(y)),T(m,y,o,i,l,a),E++,e[h]=null))}if(s===e.length&&0===E)for(ye(o,e,i,a);c<u;)(b=t[c]).dom&&(t[c]=b=Ie(b)),c++,pe(o,z(b,null,i,l),null);else{for(h=s-E;h>0;)r(m=e[p++])||(M(m,o,i,!0,a),h--);if(O){var x=X(w);for(v=x.length-1,h=u-1;h>=0;h--)-1===w[h]?((b=t[N=h+c]).dom&&(t[N]=b=Ie(b)),g=(C=N+1)<t.length?t[C].dom:null,pe(o,z(b,o,i,l),g)):v<0||h!==x[v]?(b=t[N=h+c],g=(C=N+1)<t.length?t[C].dom:null,pe(o,b.dom,g)):v--}else if(E!==u)for(h=u-1;h>=0;h--)-1===w[h]&&((b=t[N=h+c]).dom&&(t[N]=b=Ie(b)),g=(C=N+1)<t.length?t[C].dom:null,pe(o,z(b,null,i,l),g))}}}else ye(o,e,i,a);else u>0&&J(t,o,i,l)}function X(e){var t=e.slice(0),n=[0],r=void 0,o=void 0,i=void 0,l=void 0,a=void 0,s=e.length;for(r=0;r<s;r++){var u=e[r];if(-1!==u)if(o=n[n.length-1],e[o]<u)t[r]=o,n.push(r);else{for(i=0,l=n.length-1;i<l;)e[n[a=(i+l)/2|0]]<u?i=a+1:l=a;u<e[n[i]]&&(i>0&&(t[r]=n[i-1]),n[i]=r)}}for(l=n[(i=n.length)-1];i-- >0;)n[i]=l,l=t[l];return n}function G(e,t,n,r){if(t!==n||r.dirtyMap[e]){if(it.has(e))return;u(n)?r.removeAttribute(e):r.setAttribute(e,n)}}function $(e,t,n){n.removeAttribute(e)}function z(e,t,n,r){var o=e.flags;return o&rt.Element?q(e,t,n,r):o&rt.Component?Q(e,t,n,r,(o&rt.ComponentClass)>0):o&rt.Void?Y(e,t):void c()}function Y(e,t){var n=ce("Container");return e.dom=n,r(t)||fe(t,n),n}function q(e,t,n,o){if(ot.recyclingEnabled){var i=_(e,n,o);if(!r(i))return r(t)||fe(t,i),i}var l=ce(e.type),a=e.children,s=e.props,u=e.ref;if(e.dom=l,d(a)||(nt(a)?J(a,l,n,o):xe(a)&&z(a,l,n,o)),!r(s))for(var f in s)G(f,null,s[f],l);return r(u)||te(l,u,n),r(t)||fe(t,l),l}function J(e,t,n,r){for(var o=0,i=e.length;o<i;o++){var l=e[o];d(l)||(l.dom&&(e[o]=l=Ie(l)),z(e[o],t,n,r))}}function Q(e,t,n,o,i){if(ot.recyclingEnabled){var l=w(e,n,o);if(!r(l))return r(t)||fe(t,l),l}var a=e.type,s=e.props||ht,u=e.ref,d=void 0;if(i){var f=ae(e,a,s,o,n),p=f._lastInput;f._vNode=e,e.dom=d=z(p,null,n,f._childContext),r(t)||fe(t,d),Z(e,u,f,n),f._updating=!1,ot.findDOMNodeEnabled&&st.set(f,d)}else{var c=de(e,a,s,o);e.dom=d=z(c,null,n,o),e.children=c,ee(u,d,n),r(t)||fe(t,d)}return d}function Z(e,t,o,i){t&&(l(t)?t(o):c());var a=!n(o.componentDidMount),s=ot.afterMount;!a&&r(s)||i.addListener(function(){o._updating=!0,s&&s(e),a&&o.componentDidMount(),o._updating=!1})}function ee(e,t,n){e&&(u(e.onComponentWillMount)||e.onComponentWillMount(),u(e.onComponentDidMount)||n.addListener(function(){return e.onComponentDidMount(t)}))}function te(e,t,n){if(l(t))n.addListener(function(){return t(e)});else{if(d(t))return;c()}}function ne(e){-1===ft.indexOf(e)&&ft.push(e)}function re(e){var t=ft.indexOf(e);t>-1&&ft.splice(t,1)}function oe(e,t,n){var r=t.key,o=t.startValue,i=void 0===o?0:o,a=t.endValue,s=void 0===a?0:a,u=t.startTime,d=void 0===u?0:u,f=t.duration,p=void 0===f?0:f,c=t.repeat,h=void 0===c?0:c,v=t.delay,m=void 0===v?0:v,y=t.repeatDelay,g=void 0===y?0:y,C=t.ease,b=void 0===C?null:C,k=t.map,S=void 0===k?null:k,_=t.yoyo,P=void 0!==_&&_,w=t.isApplyStart,O=void 0!==w&&w,M=n-(d+m),N=void 0;if(M>=0){if(0===p)N=1;else if(0===h)N=Math.min(M/p,1);else if(P){var E=Math.floor(M/(p+g)),D=E%2==1;-1===h||h>=E?(N=Math.min(M%(p+g)/p,1),D&&(N=1-N)):N=h%2==0?1:0}else{var x=Math.floor(M/(p+g));N=-1===h||h>=x?Math.min(M%(p+g)/p,1):1}l(b)&&(N=b(N));var I=i+(s-i)*N;l(S)&&(I=S(I)),l(r)?r(e,I,n):e.setAttribute(r,I,!0)}else if(O){var U=i;l(S)&&(U=S(U)),l(r)?r(e,U,n):e.setAttribute(r,U,!0)}}function ie(e){for(var t=0,n=ft.length;t<n;t++)for(var r=ft[t],o=r._hAnimation,i=0,l=o.length;i<l;i++)oe(r,o[i],e)}function le(e,t){pt.set(e,t)}function ae(e,t,o,i,l){n(i)&&(i=ht);var a=new t(o,i);e.children=a,a._blockSetState=!1,a.context=i,a.props===ht&&(a.props=o),a._lifecycle=l,a._unmounted=!1,a._pendingSetState=!0,n(a.componentWillMount)||(a._blockRender=!0,a.componentWillMount(),a._blockRender=!1);var s=void 0;n(a.getChildContext)||(s=a.getChildContext()),u(s)?a._childContext=i:a._childContext=v(i,s),r(ot.beforeRender)||ot.beforeRender(a);var f=a.render(o,a.state,i);return r(ot.afterRender)||ot.afterRender(a),nt(f)?c():d(f)?f=De():(f.dom&&(f=Ie(f)),f.flags&rt.Component&&(f.parentVNode=e)),a._pendingSetState=!1,a._lastInput=f,a}function se(e,t,n,r,o,i){ue(n,z(t,null,r,o),e,r,i)}function ue(e,t,n,r,o){M(n,null,r,!1,o),ve(e,t,n.dom)}function de(e,t,n,r){var o=t(n,r);return nt(o)?c():d(o)?o=De():(o.dom&&(o=Ie(o)),o.flags&rt.Component&&(o.parentVNode=e)),o}function fe(e,t){e.appendChild(t)}function pe(e,t,n){u(n)?fe(e,t):e.insertBefore(t,n)}function ce(e){return new ct(e)}function he(e,t,n,r,o,i){M(e,null,r,!1,i);var l=z(t,null,r,o);t.dom=l,ve(n,l,e.dom)}function ve(e,t,n){e||(e=n.parentNode),e.replaceChild(t,n)}function me(e,t){e.removeChild(t)}function ye(e,t,n,r){(!ot.recyclingEnabled||ot.recyclingEnabled&&!r)&&ge(null,t,n,r)}function ge(e,t,n,r){for(var o=0,i=t.length;o<i;o++){var l=t[o];d(l)||M(l,e,n,!0,r)}}function Ce(e,t){return t.length>0&&!u(t[0])&&!u(t[0].key)&&e.length>0&&!u(e[0])&&!u(e[0].key)}function be(e,t){return t.key=e,t}function ke(e,t){return s(e)&&(e="."+e),r(t.key)||"."===t.key[0]?be(e,t):t}function Se(e,t){return t.key=e+t.key,t}function _e(e,t,n,o){for(var i=e.length;n<i;n++){var l=e[n],a=o+"."+n;d(l)||(nt(l)?_e(l,t,0,a):((xe(l)&&l.dom||l.key&&"."===l.key[0])&&(l=Ie(l)),l=r(l.key)||"."===l.key[0]?be(a,l):Se(o,l),t.push(l)))}}function Pe(e){var t=void 0;"true"===e.$?e=e.slice():e.$=!0;for(var n=0,o=e.length;n<o;n++){var i=e[n];if(d(i)||nt(i)){var l=(t||e).slice(0,n);return _e(e,l,n,""),l}xe(i)&&null!==i.dom||r(i.key)&&0==(i.flags&rt.HasNonKeyedChildren)?(t||(t=e.slice(0,n)),t.push(ke(n,Ie(i)))):t&&t.push(ke(n,Ie(i)))}return t||e}function we(e){return nt(e)?Pe(e):xe(e)&&null!==e.dom?Ie(e):e}function Oe(e,t,n){e.flags&rt.Element&&u(n)&&!u(t.children)&&(e.children=t.children),t.ref&&(e.ref=t.ref,delete t.ref),u(t.key)||(e.key=t.key,delete t.key)}function Me(e){var t=e.props,r=e.children;if(e.flags&rt.Component){var o=e.type,i=o.defaultProps;if(!u(i))if(t)for(var l in i)n(t[l])&&(t[l]=i[l]);else t=e.props=i;a(o)&&(e.flags=rt.HtmlElement,t&&t.children&&(e.children=t.children,r=t.children))}t&&(Oe(e,t,r),d(t.children)||(t.children=we(t.children))),d(r)||(e.children=we(r))}function Ne(e,t,n,r,o,i){this.children=e,this.dom=null,this.flags=t,this.key=n,this.props=r,this.ref=o,this.type=i}function Ee(e,t,n,r,o,i,l){e&rt.ComponentUnknown&&(e=p(t)?rt.ComponentClass:rt.ComponentFunction);var a=new Ne(void 0===n?null:n,e,void 0===o?null:o,void 0===r?null:r,void 0===i?null:i,t);return!0!==l&&Me(a),null!==ot.createVNode&&ot.createVNode(a),a}function De(){return Ee(rt.Void,null)}function xe(e){return!!e.flags}function Ie(e){var t=void 0,n=e.flags;if(n&rt.Component){var o=void 0,i=e.props;if(r(i))o=ht;else{o={};for(var l in i)o[l]=i[l]}var a=(t=Ee(n,e.type,null,o,e.key,e.ref,!0)).props,s=a.children;if(s)if(nt(s)){var u=s.length;if(u>0){for(var f=[],p=0;p<u;p++){var c=s[p];!d(c)&&xe(c)&&f.push(Ie(c))}a.children=f}}else xe(s)&&(a.children=Ie(s));t.children=null}else if(n&rt.Element){var h=e.children,v=void 0,m=e.props;if(null===m)v=ht;else{v={};for(var y in m)v[y]=m[y]}t=Ee(n,e.type,h,v,e.key,e.ref,!h)}return t}function Ue(e,t){if(e.flags&rt.Component){var n=e.parentVNode;n&&(n.dom=t,Ue(n,t))}}function Ae(e,t,n){var r=vt.get(e);void 0===r&&(r=[],vt.set(e,r),mt.then(function(){vt.delete(e),e._updating=!0,je(e,t,function(){for(var t=0,n=r.length;t<n;t++)r[t].call(e)}),e._updating=!1})),u(n)||r.push(n)}function Re(e,t,n){l(t)&&(t=t(e.state,e.props,e.context));var r=e._pendingState;if(null===r)e._pendingState=r=t;else for(var o in t)r[o]=t[o];if(e._pendingSetState||e._blockRender){var i=e.state;if(null===i)e.state=r;else for(var a in r)i[a]=r[a];e._pendingState=null,!u(n)&&e._blockRender&&e._lifecycle.addListener(n.bind(e))}else e._updating?Ae(e,!1,n):(e._pendingSetState=!0,e._updating=!0,je(e,!1,n),e._updating=!1)}function je(e,t,i){if(!e._unmounted){if(t||!e._blockRender){e._pendingSetState=!1;var l=e._pendingState,a=e.state,s=v(a,l),f=e.props,p=e.context;e._pendingState=null;var h=e._updateComponent(a,s,f,f,p,t,!0),m=!0;d(h)?h=Ee(rt.Void,null):h===Ze?(h=e._lastInput,m=!1):o(h)?h=Ee(rt.Text,null,null,h):nt(h)&&c();var y=e._lastInput,g=e._vNode,C=y.dom&&y.dom.parentNode||(y.dom=g.dom);if(e._lastInput=h,m){var b=void 0;n(e.getChildContext)||(b=e.getChildContext()),b=u(b)?e._childContext:v(p,b);var k=e._lifecycle;T(y,h,C,k,b,!1),k.trigger(),n(e.componentDidUpdate)||e.componentDidUpdate(f,a,p),r(ot.afterUpdate)||ot.afterUpdate(g)}var S=g.dom=h.dom;ot.findDOMNodeEnabled&&st.set(e,h.dom),Ue(g,S)}else e.state=e._pendingState,e._pendingState=null;u(i)||i.call(e)}}function Te(e,t){if(d(e)||f(e))throw new Error("Helium Error: createElement() name parameter cannot be undefined, null, false or true, It must be a string, class or function.");for(var r=arguments.length,o=Array(r>2?r-2:0),i=2;i<r;i++)o[i-2]=arguments[i];var l=o,s=null,p=null,c=0,h=void 0;if(o&&(1===o.length?l=o[0]:0===o.length&&(l=void 0)),a(e)){if(c=rt.HtmlElement,!u(t)){h={};for(var v in t)"key"===v?p=t.key:"children"===v&&n(l)?l=t.children:"ref"===v?s=t.ref:h[v]=t[v]}}else if(c=rt.ComponentUnknown,n(l)||(t||(t={}),t.children=l,l=null),!u(t)){h={};for(var m in t)gt.has(m)?(s||(s={}),s[m]=t[m]):"key"===m?p=t.key:h[m]=t[m]}return Ee(c,e,l,h,p,s)}function Ve(){le("Container",Ct),le("Sprite",bt),le("Graphics",kt),le("Text",St)}function We(e,t,n){if("string"!=typeof t){var r=Object.getOwnPropertyNames(t);wt&&(r=r.concat(Object.getOwnPropertySymbols(t)));for(var o=0;o<r.length;++o)if(!(_t[r[o]]||Pt[r[o]]||n&&n[r[o]]))try{e[r[o]]=t[r[o]]}catch(e){console.error(e)}}return e}function He(e){return null!=e&&"object"===(void 0===e?"undefined":ze(e))}function Ke(e){if(!He(e)||Ut.call(e)!==Mt)return!1;var t=Ot(e);if(null===t)return!0;var n=xt.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Dt.call(n)===It}function Be(e){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(e);try{throw new Error(e)}catch(e){}}function Fe(e,t){if(e===t)return!0;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var o=Object.prototype.hasOwnProperty,i=0,l=n.length;i<l;i++){var a=n[i];if(!o.call(t,a)||e[a]!==t[a])return!1}return!0}function Le(e){return function(t){return At(e,t)}}function Xe(e,t){try{return e.apply(t)}catch(e){return Rt.value=e,Rt}}function Ge(e){return e.displayName||e.name||"Component"}function $e(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=Boolean(e),i=e||jt,a=void 0;a=l(t)?t:t?Le(t):Tt;var s=n||Vt,u=r.pure,d=void 0===u||u,f=r.withRef,p=void 0!==f&&f,h=d&&s!==Vt,m=Wt++;return function(e){function t(e,t){Ke(e)||Be(t+"() in "+r+" must return a plain object. Instead received "+e+".")}function n(e,n,r){var o=s(e,n,r);return"production"!==process.env.NODE_ENV&&t(o,"mergeProps"),o}var r="Connect("+Ge(e)+")",u=function(t){function s(e,t){Ye(this,s);var n=Qe(this,(s.__proto__||Object.getPrototypeOf(s)).call(this,e,t));n.version=m,n.wrappedInstance=null,n.store=e&&e.store||t&&t.store,n.store||c('Could not find "store" in either the context or props of "'+r+'". Either wrap the root component in a <Provider>, or explicitly pass "store" as a prop to "'+r+'".');var o=n.store.getState();return n.state={storeState:o},n.clearCache(),n}return Je(s,t),qe(s,[{key:"componentDidMount",value:function(){this.trySubscribe()}},{key:"shouldComponentUpdate",value:function(){return!d||this.haveOwnPropsChanged||this.hasStoreStateChanged}},{key:"computeStateProps",value:function(e,t){if(!this.finalMapStateToProps)return this.configureFinalMapState(e,t);var n=e.getState();return this.doStatePropsDependOnOwnProps?this.finalMapStateToProps(n,t):this.finalMapStateToProps(n)}},{key:"configureFinalMapState",value:function(e,t){var n=i(e.getState(),t),r=l(n);return this.finalMapStateToProps=r?n:i,this.doStatePropsDependOnOwnProps=1!==this.finalMapStateToProps.length,r?this.computeStateProps(e,t):n}},{key:"computeDispatchProps",value:function(e,t){if(!this.finalMapDispatchToProps)return this.configureFinalMapDispatch(e,t);var n=e.dispatch;return this.doDispatchPropsDependOnOwnProps?this.finalMapDispatchToProps(n,t):this.finalMapDispatchToProps(n)}},{key:"configureFinalMapDispatch",value:function(e,t){var n=a(e.dispatch,t),r=l(n);return this.finalMapDispatchToProps=r?n:a,this.doDispatchPropsDependOnOwnProps=1!==this.finalMapDispatchToProps.length,r?this.computeDispatchProps(e,t):n}},{key:"updateStatePropsIfNeeded",value:function(){var e=this.computeStateProps(this.store,this.props);return(!this.stateProps||!Fe(e,this.stateProps))&&(this.stateProps=e,!0)}},{key:"updateDispatchPropsIfNeeded",value:function(){var e=this.computeDispatchProps(this.store,this.props);return(!this.dispatchProps||!Fe(e,this.dispatchProps))&&(this.dispatchProps=e,!0)}},{key:"updateMergedPropsIfNeeded",value:function(){var e=n(this.stateProps,this.dispatchProps,this.props);return!(this.mergedProps&&h&&Fe(e,this.mergedProps))&&(this.mergedProps=e,!0)}},{key:"isSubscribed",value:function(){return l(this.unsubscribe)}},{key:"trySubscribe",value:function(){o&&!this.unsubscribe&&(this.unsubscribe=this.store.subscribe(this.handleChange.bind(this)),this.handleChange())}},{key:"tryUnsubscribe",value:function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null)}},{key:"componentWillReceiveProps",value:function(e){d&&Fe(e,this.props)||(this.haveOwnPropsChanged=!0)}},{key:"componentWillUnmount",value:function(){this.tryUnsubscribe(),this.clearCache()}},{key:"clearCache",value:function(){this.dispatchProps=null,this.stateProps=null,this.mergedProps=null,this.haveOwnPropsChanged=!0,this.hasStoreStateChanged=!0,this.haveStatePropsBeenPrecalculated=!1,this.statePropsPrecalculationError=null,this.renderedElement=null,this.finalMapDispatchToProps=null,this.finalMapStateToProps=null}},{key:"handleChange",value:function(){if(this.unsubscribe){var e=this.store.getState(),t=this.state.storeState;if(!d||t!==e){if(d&&!this.doStatePropsDependOnOwnProps){var n=Xe(this.updateStatePropsIfNeeded,this);if(!n)return;n===Rt&&(this.statePropsPrecalculationError=Rt.value),this.haveStatePropsBeenPrecalculated=!0}this.hasStoreStateChanged=!0,this.setState({storeState:e})}}}},{key:"getWrappedInstance",value:function(){return this.wrappedInstance}},{key:"render",value:function(){var t=this,n=this.haveOwnPropsChanged,r=this.hasStoreStateChanged,o=this.haveStatePropsBeenPrecalculated,i=this.statePropsPrecalculationError,l=this.renderedElement;if(this.haveOwnPropsChanged=!1,this.hasStoreStateChanged=!1,this.haveStatePropsBeenPrecalculated=!1,this.statePropsPrecalculationError=null,i)throw i;var a=!0,s=!0;d&&l&&(a=r||n&&this.doStatePropsDependOnOwnProps,s=n&&this.doDispatchPropsDependOnOwnProps);var u=!1,f=!1;o?u=!0:a&&(u=this.updateStatePropsIfNeeded()),s&&(f=this.updateDispatchPropsIfNeeded());return!(!!(u||f||n)&&this.updateMergedPropsIfNeeded())&&l?l:(this.renderedElement=p?Te(e,v(this.mergedProps,{ref:function(e){return t.wrappedInstance=e}})):Te(e,this.mergedProps),this.renderedElement)}}]),s}(yt);return u.displayName=r,u.WrappedComponent=e,We(u,e)}}var ze="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ye=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},qe=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Je=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},Qe=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},Ze="$NO_OP",et="a runtime error occured! Use Helium in development enviroment to find the error.",tt=!("undefined"==typeof window||!window.document),nt=Array.isArray;m.prototype.addListener=function(e){this.listeners.push(e)},m.prototype.trigger=function(){var e=this.listeners,t=void 0;for(t=e.shift();t;)t(),t=e.shift()};var rt={Text:1,HtmlElement:2,ComponentClass:4,ComponentFunction:8,ComponentUnknown:16,HasKeyedChildren:32,HasNonKeyedChildren:64,Void:4096,Element:2,Component:28},ot={afterMount:null,afterRender:null,afterUpdate:null,beforeRender:null,beforeUnmount:null,createVNode:null,findDOMNodeEnabled:!1,recyclingEnabled:!1,roots:[]},it=new Set;it.add("children"),it.add("childrenType"),it.add("ref"),it.add("key");var lt=new Map,at=new Map,st=new Map,ut=ot.roots,dt=document.body,ft=[],pt=new Map,ct=function(){function e(t){if(Ye(this,e),this.parentNode=null,this.tagName=t,pt.has(t)){var n=pt.get(t);this.tagInstance=new n}else c(t+" is not a base view");this.dirtyMap={},this.children=[],this._hAnimation=[]}return qe(e,[{key:"appendChild",value:function(e){this.children.push(e),e.parentNode=this,this.updateChildren()}},{key:"insertBefore",value:function(e,t){var n=this.children.indexOf(t);n>-1?this.children.splice(n,0,e):this.children.push(e),e.parentNode=this,this.updateChildren()}},{key:"replaceChild",value:function(e,t){var n=this.children.indexOf(t);n>-1?this.children.splice(n,1,e):this.children.push(e),e.parentNode=this,this.updateChildren()}},{key:"removeChild",value:function(e){var t=this.children.indexOf(e);t>-1&&this.children.splice(t,1),e.parentNode=null,this.updateChildren()}},{key:"updateChildren",value:function(){this.tagInstance.updateChildren(this.children)}},{key:"setAttribute",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.dirtyMap[e]=!!n,"_hAnimation"===e?t?(this._hAnimation=t,ne(this)):this._hAnimation=[]:this.tagInstance.setAttribute(e,t)}},{key:"removeAttribute",value:function(e){"_hAnimation"===e?(this._hAnimation=[],re(this)):this.tagInstance.removeAttribute(e)}},{key:"nextSibling",get:function(){var e=null;if(this.parentNode){var t=this.parentNode.children.indexOf(this);t>-1&&(e=this.parentNode.children[t+1])}return e}},{key:"firstChild",get:function(){return this.children[0]||null}}]),e}(),ht={};Object.freeze(ht);var vt=new Map,mt=Promise.resolve(),yt=function(){function e(t,n){Ye(this,e),this.state=null,this._blockRender=!1,this._blockSetState=!0,this._pendingSetState=!1,this._pendingState=null,this._lastInput=null,this._vNode=null,this._unmounted=!1,this._lifecycle=null,this._childContext=null,this._updating=!0,this.props=t||ht,this.context=n||ht}return qe(e,[{key:"forceUpdate",value:function(e){this._unmounted||je(this,!0,e)}},{key:"setState",value:function(e,t){this._unmounted||(this._blockSetState?c():Re(this,e,t))}},{key:"setStateSync",value:function(e){this.setState(e)}},{key:"_updateComponent",value:function(e,t,r,o,i,l,a){if(!0===this._unmounted&&c(),r!==o||o===ht||e!==t||l){if(r===o&&o!==ht||(n(this.componentWillReceiveProps)||a||(this._blockRender=!0,this.componentWillReceiveProps(o,i),this._blockRender=!1),this._pendingSetState&&(t=v(t,this._pendingState),this._pendingSetState=!1,this._pendingState=null)),n(this.shouldComponentUpdate)||this.shouldComponentUpdate(o,t,i)||l){n(this.componentWillUpdate)||(this._blockSetState=!0,this.componentWillUpdate(o,t,i),this._blockSetState=!1),this.props=o,this.state=t,this.context=i,ot.beforeRender&&ot.beforeRender(this);var s=this.render(o,t,i);return ot.afterRender&&ot.afterRender(this),s}this.props=o,this.state=t,this.context=i}return Ze}}]),e}(),gt=new Set;gt.add("onComponentWillMount"),gt.add("onComponentDidMount"),gt.add("onComponentWillUnmount"),gt.add("onComponentShouldUpdate"),gt.add("onComponentWillUpdate"),gt.add("onComponentDidUpdate");var Ct=function(){function e(){Ye(this,e),this.el=new PIXI.Container}return qe(e,[{key:"setAttribute",value:function(e,t){"width"!==e&&"height"!==e&&(this.el[e]=t)}},{key:"removeAttribute",value:function(){}},{key:"updateChildren",value:function(e){this.el.children=[];for(var t=0,n=e.length;t<n;t++)this.el.addChild(e[t].tagInstance.el)}}]),e}(),bt=function(){function e(){Ye(this,e),this.el=new PIXI.Sprite}return qe(e,[{key:"setAttribute",value:function(e,t){this.el[e]=t}},{key:"removeAttribute",value:function(){}},{key:"updateChildren",value:function(e){this.el.children=[];for(var t=0,n=e.length;t<n;t++)this.el.addChild(e[t].tagInstance.el)}}]),e}(),kt=function(){function e(){Ye(this,e),this.el=new PIXI.Graphics}return qe(e,[{key:"setAttribute",value:function(e,t){"draw"!==e?this.el[e]=t:t&&t(this.el)}},{key:"removeAttribute",value:function(){}},{key:"updateChildren",value:function(e){this.el.children=[];for(var t=0,n=e.length;t<n;t++)this.el.addChild(e[t].tagInstance.el)}}]),e}(),St=function(){function e(){Ye(this,e),this.el=new PIXI.Text}return qe(e,[{key:"setAttribute",value:function(e,t){this.el[e]=t}},{key:"removeAttribute",value:function(){}},{key:"updateChildren",value:function(e){this.el.children=[];for(var t=0,n=e.length;t<n;t++)this.el.addChild(e[t].tagInstance.el)}}]),e}(),_t={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,propTypes:!0,type:!0},Pt={name:!0,length:!0,prototype:!0,caller:!0,arguments:!0,arity:!0},wt="function"==typeof Object.getOwnPropertySymbols,Ot=function(e,t){return function(n){return e(t(n))}}(Object.getPrototypeOf,Object),Mt="[object Object]",Nt=Function.prototype,Et=Object.prototype,Dt=Nt.toString,xt=Et.hasOwnProperty,It=Dt.call(Object),Ut=Et.toString,At=Redux.bindActionCreators,Rt={value:null},jt=function(e){return{}},Tt=function(e){return{dispatch:e}},Vt=function(e,t,n){var r={};if(n)for(var o in n)r[o]=n[o];if(e)for(var i in e)r[i]=e[i];if(t)for(var l in t)r[l]=t[l];return r},Wt=0,Ht=function(e){function n(e,t){Ye(this,n);var r=Qe(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e,t));return r.store=e.store,r}return Je(n,e),qe(n,[{key:"getChildContext",value:function(){return{store:this.store}}},{key:"render",value:function(e){if(u(this.props.children)||1!==t(this.props.children).length)throw Error("Inferno Error: Only one child is allowed within the `Provider` component");return e.children}}]),n}(yt);e.VNodeFlags=rt,e.createElement=Te,e.Component=yt,e.registerBaseView=le,e.HOM=ct,e.render=j,e.createVNode=Ee,e.directClone=Ie,e.options=ot,e.importPixiBaseView=Ve,e.NO_OP=Ze,e.ERROR_MSG=et,e.isBrowser=tt,e.isArray=nt,e.toArray=t,e.isUndefined=n,e.isNull=r,e.isStringOrNumber=o,e.isTrue=i,e.isFunction=l,e.isString=a,e.isNumber=s,e.isNullOrUndef=u,e.isInvalid=d,e.isObject=f,e.isStatefulComponent=p,e.throwError=c,e.warning=h,e.combineFrom=v,e.Lifecycle=m,e.ANIMATION_KEY="_hAnimation",e.registerAnimationDOM=ne,e.removeAnimationDOM=re,e.patchAnimation=ie,e.Provider=Ht,e.connect=$e,Object.defineProperty(e,"__esModule",{value:!0})});
