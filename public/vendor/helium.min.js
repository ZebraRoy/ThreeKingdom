!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n(e.Helium=e.Helium||{})}(this,function(e){"use strict";function n(e){var n=e?[e]:e;return Xe(e)?e:n}function t(e){return void 0===e}function i(e){return null===e}function o(e){var n=void 0===e?"undefined":Pe(e);return"string"===n||"number"===n}function r(e){return!0===e}function l(e){return"function"==typeof e}function d(e){return"string"==typeof e}function a(e){return"number"==typeof e}function u(e){return t(e)||i(e)}function f(e){return i(e)||!1===e||r(e)||t(e)}function s(e){return"object"===(void 0===e?"undefined":Pe(e))}function c(e){return!t(e.prototype)&&!t(e.prototype.render)}function p(e){throw e||(e=Be),new Error("Helium Error: "+e)}function h(e){console.warn(e)}function v(e,n){var t={};if(e)for(var i in e)t[i]=e[i];if(n)for(var o in n)t[o]=n[o];return t}function m(){this.listeners=[]}function y(e,n,t,i,o){var r=e.type,l=e.ref;e.dom=n;var d=e.props||on;if(o){var a=de(e,r,d,i,t),u=a._lastInput;a._vNode=e,_(u,n,t,a._childContext),Z(e,l,a,t),a._updating=!1,$e.findDOMNodeEnabled&&Je.set(a,n)}else{var f=fe(e,r,d,i);_(f,n,t,i),e.children=f,e.dom=f.dom,ee(l,n,t)}return n}function g(e,n,t,i){var o=e.children,r=e.props,l=e.ref;if(e.dom=n,o&&C(o,n,t,i),r)for(var d in r)G(d,null,r[d],n);return l&&ne(n,l,t),n}function C(e,n,t,o){var r=n.firstChild;if(Xe(e))for(var l=0,d=e.length;l<d;l++){var a=e[l];!i(a)&&s(a)&&(i(r)?z(a,n,t,o):r=_(a,r,t,o).nextSibling)}else s(e)&&(_(e,r,t,o),r=r.nextSibling);for(;r;){var u=r.nextSibling;n.removeChild(r),r=u}}function k(e,n){return e.dom=n,n}function _(e,n,t,i){var o=e.flags;return o&Ge.Component?y(e,n,t,i,(o&Ge.ComponentClass)>0):o&Ge.Element?g(e,n,t,i):o&Ge.Void?k(e,n):void p()}function b(e,n,t){if(!i(n)){var o=n.firstChild;if(!i(o)){for(_(e,o,t,on,!1),o=(o=n.firstChild).nextSibling;o;)n.removeChild(o),o=o.nextSibling;return!0}}return!1}function S(e,n,i){var o=e.type,r=qe.get(o);if(!t(r)){var l=e.key,d=null===l?r.nonKeyed:r.keyed.get(l);if(!t(d)){var a=d.pop();if(!t(a))return P(a,e,null,n,i,!0),e.dom}}return null}function N(e){var n=e.type,o=e.key,r=qe.get(n);if(t(r)&&(r={keyed:new Map,nonKeyed:[]},qe.set(n,r)),i(o))r.nonKeyed.push(e);else{var l=r.keyed.get(o);t(l)&&(l=[],r.keyed.set(o,l)),l.push(e)}}function w(e,n,i){var o=e.type,r=Ye.get(o);if(!t(r)){var l=e.key,d=null===l?r.nonKeyed:r.keyed.get(l);if(!t(d)){var a=d.pop();if(!t(a)&&!j(a,e,null,n,i,e.flags&Ge.ComponentClass,!0))return e.dom}}return null}function M(e){var n=e.ref;if(!(n&&(n.onComponentWillMount||n.onComponentWillUnmount||n.onComponentDidMount||n.onComponentWillUpdate||n.onComponentDidUpdate))){var o=e.type,r=e.key,l=Ye.get(o);if(t(l)&&(l={keyed:new Map,nonKeyed:[]},Ye.set(o,l)),i(r))l.nonKeyed.push(e);else{var d=l.keyed.get(r);t(d)&&(d=[],l.keyed.set(r,d)),d.push(e)}}}function x(e,n,t,i,o){var r=e.flags;r&Ge.Component?A(e,n,t,i,o):r&Ge.Element?E(e,n,t,i,o):r&(Ge.Text|Ge.Void)&&U(e,n)}function U(e,n){i(n)||me(n,e.dom)}function A(e,n,o,r,l){var d=e.children,a=e.flags&Ge.ComponentClass,f=e.ref,s=e.dom;if(l||(a?d._unmounted||(d._blockSetState=!0,i($e.beforeUnmount)||$e.beforeUnmount(e),t(d.componentWillUnmount)||d.componentWillUnmount(),f&&!l&&f(null),d._unmounted=!0,$e.findDOMNodeEnabled&&Je.delete(d),x(d._lastInput,null,d._lifecycle,!1,l)):(u(f)||u(f.onComponentWillUnmount)||f.onComponentWillUnmount(s),x(d,null,o,!1,l))),n){var c=d._lastInput;u(c)&&(c=d),me(n,s)}$e.recyclingEnabled&&!a&&(n||r)&&M(e)}function E(e,n,t,o,r){var l=e.dom,d=e.ref;d&&!r&&O(d);var a=e.children;u(a)||I(a,t,r),i(n)||me(n,l),$e.recyclingEnabled&&(n||o)&&N(e)}function I(e,n,t){if(Xe(e))for(var i=0,o=e.length;i<o;i++){var r=e[i];!f(r)&&s(r)&&x(r,null,n,!1,t)}else s(e)&&x(e,null,n,!1,t)}function O(e){if(l(e))e(null);else{if(f(e))return;p()}}function V(e){for(var n=0,t=Qe.length;n<t;n++){var i=Qe[n];if(i.dom===e)return i}return null}function D(e,n,t){var i={dom:e,input:n,lifecycle:t};return Qe.push(i),i}function R(e){for(var n=0,t=Qe.length;n<t;n++)if(Qe[n]===e)return void Qe.splice(n,1)}function W(e,n){if(Ze===n&&p(),e!==Le){var t=V(n);if(i(t)){var o=new m;f(e)||(e.dom&&(e=Oe(e)),b(e,n,o)||z(e,n,o,on,!1),t=D(n,e,o),o.trigger())}else{var r=t.lifecycle;r.listeners=[],u(e)?(x(t.input,n,r,!1,!1),R(t)):(e.dom&&(e=Oe(e)),H(t.input,e,n,r,on,!1,!1)),t.input=e,r.trigger()}if(t){var l=t.input;if(l&&l.flags&Ge.Component)return l.children}}}function H(e,n,t,i,o,r){if(e!==n){var l=e.flags,d=n.flags;d&Ge.Component?l&Ge.Component?j(e,n,t,i,o,d&Ge.ComponentClass,r):ue(t,Q(n,null,i,o,(d&Ge.ComponentClass)>0),e,i,r):d&Ge.Element?l&Ge.Element?P(e,n,t,i,o,r):ue(t,q(n,null,i,o),e,i,r):d&Ge.Void?l&Ge.Void?L(e,n):ue(t,Y(n,null),e,i,r):ae(e,n,t,i,o,r)}}function K(e,n,t,i){Ie(e)?x(e,n,t,!0,i):Xe(e)&&ye(n,e,t,i)}function P(e,n,t,i,o,r){var l=n.type;if(e.type!==l)he(e,n,t,i,o,r);else{var d=e.dom,a=e.props,f=n.props,s=e.children,c=n.children,p=e.flags,h=n.flags,v=n.ref;if(n.dom=d,s!==c&&T(p,h,s,c,d,i,o,r),a!==f){var m=a||on,y=f||on;if(y!==on)for(var g in y){var C=y[g];G(g,m[g],C,d)}if(m!==on)for(var k in m)u(y[k])&&$(k,m[k],d)}v&&(e.ref!==v||r)&&ne(d,v,i)}}function T(e,n,t,i,o,r,l,d){var a=!1,u=!1;n&Ge.HasNonKeyedChildren?a=!0:(e&Ge.HasKeyedChildren)>0&&(n&Ge.HasKeyedChildren)>0?(u=!0,a=!0):f(i)?K(t,o,r,d):f(t)?Xe(i)?J(i,o,r,l):z(i,o,r,l):Xe(i)?Xe(t)?(a=!0,Ce(t,i)&&(u=!0)):(K(t,o,r,d),J(i,o,r,l)):Xe(t)?(ye(o,t,r,d),z(i,o,r,l)):Ie(i)&&(Ie(t)?H(t,i,o,r,l,d):(K(t,o,r,d),z(i,o,r,l))),a&&(u?F(t,i,o,r,l,d):B(t,i,o,r,l,d))}function j(e,n,o,r,l,d,a){var c=e.type,h=n.type,m=e.key,y=n.key;if(c!==h||m!==y)return he(e,n,o,r,l,a),!1;var g=n.props||on;if(d){var C=e.children;if(C._updating=!0,C._unmounted){if(i(o))return!0;ve(o,Q(n,null,r,l,(n.flags&Ge.ComponentClass)>0),e.dom)}else{var k=!t(C.componentDidUpdate),_=C.state,b=k?v(_,null):_,S=C.props,N=void 0;t(C.getChildContext)||(N=C.getChildContext()),n.children=C,N=u(N)?l:v(l,N);var w=C._lastInput,M=C._updateComponent(b,_,S,g,l,!1,!1),x=!0;C._childContext=N,f(M)?M=Ee():M===Le?(M=w,x=!1):Xe(M)?p():s(M)&&(i(M.dom)||(M=Oe(M))),M.flags&Ge.Component?M.parentVNode=n:w.flags&Ge.Component&&(w.parentVNode=n),C._lastInput=M,C._vNode=n,x&&(H(w,M,o,r,N,a),k&&C.componentDidUpdate(S,b),i($e.afterUpdate)||$e.afterUpdate(n),$e.findDOMNodeEnabled&&Je.set(C,M.dom)),n.dom=M.dom}C._updating=!1}else{var U=!0,A=e.props,E=n.ref,I=!u(E),O=e.children,V=O;n.dom=e.dom,n.children=O,m!==y?U=!0:I&&!u(E.onComponentShouldUpdate)&&(U=E.onComponentShouldUpdate(A,g)),!1!==U&&(I&&!u(E.onComponentWillUpdate)&&E.onComponentWillUpdate(A,g),f(V=h(g,l))?V=Ee():Xe(V)?p():s(V)&&(i(V.dom)||(V=Oe(V))),V!==Le&&(H(O,V,o,r,l,a),n.children=V,I&&!u(E.onComponentDidUpdate)&&E.onComponentDidUpdate(A,g),n.dom=V.dom)),V.flags&Ge.Component?V.parentVNode=n:O.flags&Ge.Component&&(O.parentVNode=n)}return!1}function L(e,n){n.dom=e.dom}function B(e,n,t,i,o,r){for(var l=e.length,d=n.length,a=l>d?d:l,u=0;u<a;u++){var f=n[u];f.dom&&(f=n[u]=Oe(f)),H(e[u],f,t,i,o,r)}if(l<d)for(u=a;u<d;u++){var s=n[u];s.dom&&(s=n[u]=Oe(s)),se(t,z(s,null,i,o))}else if(0===d)ye(t,e,i,r);else if(l>d)for(u=a;u<l;u++)x(e[u],t,i,!1,r)}function F(e,n,o,r,l,d){var a=e.length,u=n.length,f=a-1,s=u-1,c=0,p=0,h=void 0,v=void 0,m=void 0,y=void 0,g=void 0,C=void 0,k=void 0;if(0!==a)if(0!==u){var _=e[c],b=n[p],S=e[f],N=n[s];b.dom&&(n[p]=b=Oe(b)),N.dom&&(n[s]=N=Oe(N));e:for(;;){for(;_.key===b.key;){if(H(_,b,o,r,l,d),c++,p++,c>f||p>s)break e;_=e[c],(b=n[p]).dom&&(n[p]=b=Oe(b))}for(;S.key===N.key;){if(H(S,N,o,r,l,d),f--,s--,c>f||p>s)break e;S=e[f],(N=n[s]).dom&&(n[s]=N=Oe(N))}if(S.key!==b.key){if(_.key!==N.key)break;H(_,N,o,r,l,d),g=(C=s+1)<n.length?n[C].dom:null,ce(o,N.dom,g),s--,_=e[++c],(N=n[s]).dom&&(n[s]=N=Oe(N))}else H(S,b,o,r,l,d),ce(o,b.dom,_.dom),p++,S=e[--f],(b=n[p]).dom&&(n[p]=b=Oe(b))}if(c>f){if(p<=s)for(g=(C=s+1)<n.length?n[C].dom:null;p<=s;)(k=n[p]).dom&&(n[p]=k=Oe(k)),p++,ce(o,z(k,null,r,l),g)}else if(p>s)for(;c<=f;)x(e[c++],o,r,!1,d);else{a=f-c+1,u=s-p+1;var w=new Array(u);for(h=0;h<u;h++)w[h]=-1;var M=!1,U=0,A=0;if(u<=4||a*u<=16){for(h=c;h<=f;h++)if(m=e[h],A<u)for(v=p;v<=s;v++)if(y=n[v],m.key===y.key){w[v-p]=h,U>v?M=!0:U=v,y.dom&&(n[v]=y=Oe(y)),H(m,y,o,r,l,d),A++,e[h]=null;break}}else{var E=new Map;for(h=p;h<=s;h++)E.set(n[h].key,h);for(h=c;h<=f;h++)m=e[h],A<u&&(t(v=E.get(m.key))||(y=n[v],w[v-p]=h,U>v?M=!0:U=v,y.dom&&(n[v]=y=Oe(y)),H(m,y,o,r,l,d),A++,e[h]=null))}if(a===e.length&&0===A)for(ye(o,e,r,d);p<u;)(k=n[p]).dom&&(n[p]=k=Oe(k)),p++,ce(o,z(k,null,r,l),null);else{for(h=a-A;h>0;)i(m=e[c++])||(x(m,o,r,!0,d),h--);if(M){var I=X(w);for(v=I.length-1,h=u-1;h>=0;h--)-1===w[h]?((k=n[U=h+p]).dom&&(n[U]=k=Oe(k)),g=(C=U+1)<n.length?n[C].dom:null,ce(o,z(k,o,r,l),g)):v<0||h!==I[v]?(k=n[U=h+p],g=(C=U+1)<n.length?n[C].dom:null,ce(o,k.dom,g)):v--}else if(A!==u)for(h=u-1;h>=0;h--)-1===w[h]&&((k=n[U=h+p]).dom&&(n[U]=k=Oe(k)),g=(C=U+1)<n.length?n[C].dom:null,ce(o,z(k,null,r,l),g))}}}else ye(o,e,r,d);else u>0&&J(n,o,r,l)}function X(e){var n=e.slice(0),t=[0],i=void 0,o=void 0,r=void 0,l=void 0,d=void 0,a=e.length;for(i=0;i<a;i++){var u=e[i];if(-1!==u)if(o=t[t.length-1],e[o]<u)n[i]=o,t.push(i);else{for(r=0,l=t.length-1;r<l;)e[t[d=(r+l)/2|0]]<u?r=d+1:l=d;u<e[t[r]]&&(r>0&&(n[i]=t[r-1]),t[r]=i)}}for(l=t[(r=t.length)-1];r-- >0;)t[r]=l,l=n[l];return t}function G(e,n,t,i){if(n!==t||i.dirtyMap[e]){if(ze.has(e))return;u(t)?i.removeAttribute(e):i.setAttribute(e,t)}}function $(e,n,t){t.removeAttribute(e)}function z(e,n,t,i){var o=e.flags;return o&Ge.Element?q(e,n,t,i):o&Ge.Component?Q(e,n,t,i,(o&Ge.ComponentClass)>0):o&Ge.Void?Y(e,n):void p()}function Y(e,n){var t=pe("Container");return e.dom=t,i(n)||se(n,t),t}function q(e,n,t,o){if($e.recyclingEnabled){var r=S(e,t,o);if(!i(r))return i(n)||se(n,r),r}var l=pe(e.type),d=e.children,a=e.props,u=e.ref;if(e.dom=l,f(d)||(Xe(d)?J(d,l,t,o):Ie(d)&&z(d,l,t,o)),!i(a))for(var s in a)G(s,null,a[s],l);return i(u)||ne(l,u,t),i(n)||se(n,l),l}function J(e,n,t,i){for(var o=0,r=e.length;o<r;o++){var l=e[o];f(l)||(l.dom&&(e[o]=l=Oe(l)),z(e[o],n,t,i))}}function Q(e,n,t,o,r){if($e.recyclingEnabled){var l=w(e,t,o);if(!i(l))return i(n)||se(n,l),l}var d=e.type,a=e.props||on,u=e.ref,f=void 0;if(r){var s=de(e,d,a,o,t),c=s._lastInput;s._vNode=e,e.dom=f=z(c,null,t,s._childContext),i(n)||se(n,f),Z(e,u,s,t),s._updating=!1,$e.findDOMNodeEnabled&&Je.set(s,f)}else{var p=fe(e,d,a,o);e.dom=f=z(p,null,t,o),e.children=p,ee(u,f,t),i(n)||se(n,f)}return f}function Z(e,n,o,r){n&&(l(n)?n(o):p());var d=!t(o.componentDidMount),a=$e.afterMount;!d&&i(a)||r.addListener(function(){o._updating=!0,a&&a(e),d&&o.componentDidMount(),o._updating=!1})}function ee(e,n,t){e&&(u(e.onComponentWillMount)||e.onComponentWillMount(),u(e.onComponentDidMount)||t.addListener(function(){return e.onComponentDidMount(n)}))}function ne(e,n,t){if(l(n))t.addListener(function(){return n(e)});else{if(f(n))return;p()}}function te(e){-1===en.indexOf(e)&&en.push(e)}function ie(e){var n=en.indexOf(e);n>-1&&en.splice(n,1)}function oe(e,n,t){var i=n.key,o=n.startValue,r=void 0===o?0:o,d=n.endValue,a=void 0===d?0:d,u=n.startTime,f=void 0===u?0:u,s=n.duration,c=void 0===s?0:s,p=n.repeat,h=void 0===p?0:p,v=n.delay,m=void 0===v?0:v,y=n.repeatDelay,g=void 0===y?0:y,C=n.ease,k=void 0===C?null:C,_=n.map,b=void 0===_?null:_,S=n.yoyo,N=void 0!==S&&S,w=n.isApplyStart,M=void 0!==w&&w,x=t-(f+m),U=void 0;if(x>=0){if(0===c)U=1;else if(0===h)U=Math.min(x/c,1);else if(N){var A=Math.floor(x/(c+g)),E=A%2==1;-1===h||h>=A?(U=Math.min(x%(c+g)/c,1),E&&(U=1-U)):U=h%2==0?1:0}else{var I=Math.floor(x/(c+g));U=-1===h||h>=I?Math.min(x%(c+g)/c,1):1}l(k)&&(U=k(U));var O=r+(a-r)*U;l(b)&&(O=b(O)),l(i)?i(e,O,t):e.setAttribute(i,O,!0)}else if(M){var V=r;l(b)&&(V=b(V)),l(i)?i(e,V,t):e.setAttribute(i,V,!0)}}function re(e){for(var n=0,t=en.length;n<t;n++)for(var i=en[n],o=i._hAnimation,r=0,l=o.length;r<l;r++)oe(i,o[r],e)}function le(e,n){nn.set(e,n)}function de(e,n,o,r,l){t(r)&&(r=on);var d=new n(o,r);e.children=d,d._blockSetState=!1,d.context=r,d.props===on&&(d.props=o),d._lifecycle=l,d._unmounted=!1,d._pendingSetState=!0,t(d.componentWillMount)||(d._blockRender=!0,d.componentWillMount(),d._blockRender=!1);var a=void 0;t(d.getChildContext)||(a=d.getChildContext()),u(a)?d._childContext=r:d._childContext=v(r,a),i($e.beforeRender)||$e.beforeRender(d);var s=d.render(o,d.state,r);return i($e.afterRender)||$e.afterRender(d),Xe(s)?p():f(s)?s=Ee():(s.dom&&(s=Oe(s)),s.flags&Ge.Component&&(s.parentVNode=e)),d._pendingSetState=!1,d._lastInput=s,d}function ae(e,n,t,i,o,r){ue(t,z(n,null,i,o),e,i,r)}function ue(e,n,t,i,o){x(t,null,i,!1,o),ve(e,n,t.dom)}function fe(e,n,t,i){var o=n(t,i);return Xe(o)?p():f(o)?o=Ee():(o.dom&&(o=Oe(o)),o.flags&Ge.Component&&(o.parentVNode=e)),o}function se(e,n){e.appendChild(n)}function ce(e,n,t){u(t)?se(e,n):e.insertBefore(n,t)}function pe(e){return new tn(e)}function he(e,n,t,i,o,r){x(e,null,i,!1,r);var l=z(n,null,i,o);n.dom=l,ve(t,l,e.dom)}function ve(e,n,t){e||(e=t.parentNode),e.replaceChild(n,t)}function me(e,n){e.removeChild(n)}function ye(e,n,t,i){(!$e.recyclingEnabled||$e.recyclingEnabled&&!i)&&ge(null,n,t,i)}function ge(e,n,t,i){for(var o=0,r=n.length;o<r;o++){var l=n[o];f(l)||x(l,e,t,!0,i)}}function Ce(e,n){return n.length>0&&!u(n[0])&&!u(n[0].key)&&e.length>0&&!u(e[0])&&!u(e[0].key)}function ke(e,n){return n.key=e,n}function _e(e,n){return a(e)&&(e="."+e),i(n.key)||"."===n.key[0]?ke(e,n):n}function be(e,n){return n.key=e+n.key,n}function Se(e,n,t,o){for(var r=e.length;t<r;t++){var l=e[t],d=o+"."+t;f(l)||(Xe(l)?Se(l,n,0,d):((Ie(l)&&l.dom||l.key&&"."===l.key[0])&&(l=Oe(l)),l=i(l.key)||"."===l.key[0]?ke(d,l):be(o,l),n.push(l)))}}function Ne(e){var n=void 0;"true"===e.$?e=e.slice():e.$=!0;for(var t=0,o=e.length;t<o;t++){var r=e[t];if(f(r)||Xe(r)){var l=(n||e).slice(0,t);return Se(e,l,t,""),l}Ie(r)&&null!==r.dom||i(r.key)&&0==(r.flags&Ge.HasNonKeyedChildren)?(n||(n=e.slice(0,t)),n.push(_e(t,Oe(r)))):n&&n.push(_e(t,Oe(r)))}return n||e}function we(e){return Xe(e)?Ne(e):Ie(e)&&null!==e.dom?Oe(e):e}function Me(e,n,t){e.flags&Ge.Element&&u(t)&&!u(n.children)&&(e.children=n.children),n.ref&&(e.ref=n.ref,delete n.ref),u(n.key)||(e.key=n.key,delete n.key)}function xe(e){var n=e.props,i=e.children;if(e.flags&Ge.Component){var o=e.type,r=o.defaultProps;if(!u(r))if(n)for(var l in r)t(n[l])&&(n[l]=r[l]);else n=e.props=r;d(o)&&(e.flags=Ge.HtmlElement,n&&n.children&&(e.children=n.children,i=n.children))}n&&(Me(e,n,i),f(n.children)||(n.children=we(n.children))),f(i)||(e.children=we(i))}function Ue(e,n,t,i,o,r){this.children=e,this.dom=null,this.flags=n,this.key=t,this.props=i,this.ref=o,this.type=r}function Ae(e,n,t,i,o,r,l){e&Ge.ComponentUnknown&&(e=c(n)?Ge.ComponentClass:Ge.ComponentFunction);var d=new Ue(void 0===t?null:t,e,void 0===o?null:o,void 0===i?null:i,void 0===r?null:r,n);return!0!==l&&xe(d),null!==$e.createVNode&&$e.createVNode(d),d}function Ee(){return Ae(Ge.Void,null)}function Ie(e){return!!e.flags}function Oe(e){var n=void 0,t=e.flags;if(t&Ge.Component){var o=void 0,r=e.props;if(i(r))o=on;else{o={};for(var l in r)o[l]=r[l]}var d=(n=Ae(t,e.type,null,o,e.key,e.ref,!0)).props,a=d.children;if(a)if(Xe(a)){var u=a.length;if(u>0){for(var s=[],c=0;c<u;c++){var p=a[c];!f(p)&&Ie(p)&&s.push(Oe(p))}d.children=s}}else Ie(a)&&(d.children=Oe(a));n.children=null}else if(t&Ge.Element){var h=e.children,v=void 0,m=e.props;if(null===m)v=on;else{v={};for(var y in m)v[y]=m[y]}n=Ae(t,e.type,h,v,e.key,e.ref,!h)}return n}function Ve(e,n){if(e.flags&Ge.Component){var t=e.parentVNode;t&&(t.dom=n,Ve(t,n))}}function De(e,n,t){var i=rn.get(e);void 0===i&&(i=[],rn.set(e,i),ln.then(function(){rn.delete(e),e._updating=!0,We(e,n,function(){for(var n=0,t=i.length;n<t;n++)i[n].call(e)}),e._updating=!1})),u(t)||i.push(t)}function Re(e,n,t){l(n)&&(n=n(e.state,e.props,e.context));var i=e._pendingState;if(null===i)e._pendingState=i=n;else for(var o in n)i[o]=n[o];if(e._pendingSetState||e._blockRender){var r=e.state;if(null===r)e.state=i;else for(var d in i)r[d]=i[d];e._pendingState=null,!u(t)&&e._blockRender&&e._lifecycle.addListener(t.bind(e))}else e._updating?De(e,!1,t):(e._pendingSetState=!0,e._updating=!0,We(e,!1,t),e._updating=!1)}function We(e,n,r){if(!e._unmounted){if(n||!e._blockRender){e._pendingSetState=!1;var l=e._pendingState,d=e.state,a=v(d,l),s=e.props,c=e.context;e._pendingState=null;var h=e._updateComponent(d,a,s,s,c,n,!0),m=!0;f(h)?h=Ae(Ge.Void,null):h===Le?(h=e._lastInput,m=!1):o(h)?h=Ae(Ge.Text,null,null,h):Xe(h)&&p();var y=e._lastInput,g=e._vNode,C=y.dom&&y.dom.parentNode||(y.dom=g.dom);if(e._lastInput=h,m){var k=void 0;t(e.getChildContext)||(k=e.getChildContext()),k=u(k)?e._childContext:v(c,k);var _=e._lifecycle;H(y,h,C,_,k,!1),_.trigger(),t(e.componentDidUpdate)||e.componentDidUpdate(s,d,c),i($e.afterUpdate)||$e.afterUpdate(g)}var b=g.dom=h.dom;$e.findDOMNodeEnabled&&Je.set(e,h.dom),Ve(g,b)}else e.state=e._pendingState,e._pendingState=null;u(r)||r.call(e)}}function He(e,n){if(f(e)||s(e))throw new Error("Helium Error: createElement() name parameter cannot be undefined, null, false or true, It must be a string, class or function.");for(var i=arguments.length,o=Array(i>2?i-2:0),r=2;r<i;r++)o[r-2]=arguments[r];var l=o,a=null,c=null,p=0,h=void 0;if(o&&(1===o.length?l=o[0]:0===o.length&&(l=void 0)),d(e)){if(p=Ge.HtmlElement,!u(n)){h={};for(var v in n)"key"===v?c=n.key:"children"===v&&t(l)?l=n.children:"ref"===v?a=n.ref:h[v]=n[v]}}else if(p=Ge.ComponentUnknown,t(l)||(n||(n={}),n.children=l,l=null),!u(n)){h={};for(var m in n)an.has(m)?(a||(a={}),a[m]=n[m]):"key"===m?c=n.key:h[m]=n[m]}return Ae(p,e,l,h,c,a)}function Ke(){le("Container",un),le("Sprite",fn),le("Graphics",sn),le("Text",cn)}var Pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Te=function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")},je=function(){function e(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(n,t,i){return t&&e(n.prototype,t),i&&e(n,i),n}}(),Le="$NO_OP",Be="a runtime error occured! Use Helium in development enviroment to find the error.",Fe=!("undefined"==typeof window||!window.document),Xe=Array.isArray;m.prototype.addListener=function(e){this.listeners.push(e)},m.prototype.trigger=function(){var e=this.listeners,n=void 0;for(n=e.shift();n;)n(),n=e.shift()};var Ge={Text:1,HtmlElement:2,ComponentClass:4,ComponentFunction:8,ComponentUnknown:16,HasKeyedChildren:32,HasNonKeyedChildren:64,Void:4096,Element:2,Component:28},$e={afterMount:null,afterRender:null,afterUpdate:null,beforeRender:null,beforeUnmount:null,createVNode:null,findDOMNodeEnabled:!1,recyclingEnabled:!1,roots:[]},ze=new Set;ze.add("children"),ze.add("childrenType"),ze.add("ref"),ze.add("key");var Ye=new Map,qe=new Map,Je=new Map,Qe=$e.roots,Ze=document.body,en=[],nn=new Map,tn=function(){function e(n){if(Te(this,e),this.parentNode=null,this.tagName=n,nn.has(n)){var t=nn.get(n);this.tagInstance=new t}else p(n+" is not a base view");this.dirtyMap={},this.children=[],this._hAnimation=[]}return je(e,[{key:"appendChild",value:function(e){this.children.push(e),e.parentNode=this,this.updateChildren()}},{key:"insertBefore",value:function(e,n){var t=this.children.indexOf(n);t>-1?this.children.splice(t,0,e):this.children.push(e),e.parentNode=this,this.updateChildren()}},{key:"replaceChild",value:function(e,n){var t=this.children.indexOf(n);t>-1?this.children.splice(t,1,e):this.children.push(e),e.parentNode=this,this.updateChildren()}},{key:"removeChild",value:function(e){var n=this.children.indexOf(e);n>-1&&this.children.splice(n,1),e.parentNode=null,this.updateChildren()}},{key:"updateChildren",value:function(){this.tagInstance.updateChildren(this.children)}},{key:"setAttribute",value:function(e,n){var t=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.dirtyMap[e]=!!t,"_hAnimation"===e?n?(this._hAnimation=n,te(this)):this._hAnimation=[]:this.tagInstance.setAttribute(e,n)}},{key:"removeAttribute",value:function(e){"_hAnimation"===e?(this._hAnimation=[],ie(this)):this.tagInstance.removeAttribute(e)}},{key:"nextSibling",get:function(){var e=null;if(this.parentNode){var n=this.parentNode.children.indexOf(this);n>-1&&(e=this.parentNode.children[n+1])}return e}},{key:"firstChild",get:function(){return this.children[0]||null}}]),e}(),on={};Object.freeze(on);var rn=new Map,ln=Promise.resolve(),dn=function(){function e(n,t){Te(this,e),this.state=null,this._blockRender=!1,this._blockSetState=!0,this._pendingSetState=!1,this._pendingState=null,this._lastInput=null,this._vNode=null,this._unmounted=!1,this._lifecycle=null,this._childContext=null,this._updating=!0,this.props=n||on,this.context=t||on}return je(e,[{key:"forceUpdate",value:function(e){this._unmounted||We(this,!0,e)}},{key:"setState",value:function(e,n){this._unmounted||(this._blockSetState?p():Re(this,e,n))}},{key:"setStateSync",value:function(e){this.setState(e)}},{key:"_updateComponent",value:function(e,n,i,o,r,l,d){if(!0===this._unmounted&&p(),i!==o||o===on||e!==n||l){if(i===o&&o!==on||(t(this.componentWillReceiveProps)||d||(this._blockRender=!0,this.componentWillReceiveProps(o,r),this._blockRender=!1),this._pendingSetState&&(n=v(n,this._pendingState),this._pendingSetState=!1,this._pendingState=null)),t(this.shouldComponentUpdate)||this.shouldComponentUpdate(o,n,r)||l){t(this.componentWillUpdate)||(this._blockSetState=!0,this.componentWillUpdate(o,n,r),this._blockSetState=!1),this.props=o,this.state=n,this.context=r,$e.beforeRender&&$e.beforeRender(this);var a=this.render(o,n,r);return $e.afterRender&&$e.afterRender(this),a}this.props=o,this.state=n,this.context=r}return Le}}]),e}(),an=new Set;an.add("onComponentWillMount"),an.add("onComponentDidMount"),an.add("onComponentWillUnmount"),an.add("onComponentShouldUpdate"),an.add("onComponentWillUpdate"),an.add("onComponentDidUpdate");var un=function(){function e(){Te(this,e),this.el=new PIXI.Container}return je(e,[{key:"setAttribute",value:function(e,n){"width"!==e&&"height"!==e&&(this.el[e]=n)}},{key:"removeAttribute",value:function(){}},{key:"updateChildren",value:function(e){this.el.children=[];for(var n=0,t=e.length;n<t;n++)this.el.addChild(e[n].tagInstance.el)}}]),e}(),fn=function(){function e(){Te(this,e),this.el=new PIXI.Sprite}return je(e,[{key:"setAttribute",value:function(e,n){this.el[e]=n}},{key:"removeAttribute",value:function(){}},{key:"updateChildren",value:function(e){this.el.children=[];for(var n=0,t=e.length;n<t;n++)this.el.addChild(e[n].tagInstance.el)}}]),e}(),sn=function(){function e(){Te(this,e),this.el=new PIXI.Graphics}return je(e,[{key:"setAttribute",value:function(e,n){"draw"!==e?this.el[e]=n:n&&n(this.el)}},{key:"removeAttribute",value:function(){}},{key:"updateChildren",value:function(e){this.el.children=[];for(var n=0,t=e.length;n<t;n++)this.el.addChild(e[n].tagInstance.el)}}]),e}(),cn=function(){function e(){Te(this,e),this.el=new PIXI.Text}return je(e,[{key:"setAttribute",value:function(e,n){this.el[e]=n}},{key:"removeAttribute",value:function(){}},{key:"updateChildren",value:function(e){this.el.children=[];for(var n=0,t=e.length;n<t;n++)this.el.addChild(e[n].tagInstance.el)}}]),e}();e.VNodeFlags=Ge,e.createElement=He,e.Component=dn,e.registerBaseView=le,e.HOM=tn,e.render=W,e.createVNode=Ae,e.directClone=Oe,e.options=$e,e.importPixiBaseView=Ke,e.NO_OP=Le,e.ERROR_MSG=Be,e.isBrowser=Fe,e.isArray=Xe,e.toArray=n,e.isUndefined=t,e.isNull=i,e.isStringOrNumber=o,e.isTrue=r,e.isFunction=l,e.isString=d,e.isNumber=a,e.isNullOrUndef=u,e.isInvalid=f,e.isObject=s,e.isStatefulComponent=c,e.throwError=p,e.warning=h,e.combineFrom=v,e.Lifecycle=m,e.ANIMATION_KEY="_hAnimation",e.registerAnimationDOM=te,e.removeAnimationDOM=ie,e.patchAnimation=re,Object.defineProperty(e,"__esModule",{value:!0})});
